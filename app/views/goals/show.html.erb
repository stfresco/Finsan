<div class="goal-show-container" style="background-color: #f5f5f5; padding: 20px; border-radius: 10px;">
  <h1 style="color: #00c897; font-weight: bold; text-align: center;">Detalle de Meta</h1>

  <div class="goal-details-container" style="display: flex; justify-content: space-between; gap: 20px;">
    <!-- Detalles de la Meta -->
    <div class="goal-details" style="flex: 1; padding: 20px; background: white; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px;">
      <p><strong style="color: #00c897;">Monto: </strong><%= @goal.amount || "Monto no definido" %></p>
      <p><strong style="color: #00c897;">Título de meta: </strong><%= @goal.title %></p>
      <p><strong style="color: #00c897;">Descripción: </strong><%= @goal.description %></p>
      <p><strong style="color: #00c897;">Estado: </strong><%= @goal.status %></p>
      <p><strong style="color: #00c897;">Fecha de Inicio: </strong><%= @goal.start_date %></p>
      <p><strong style="color: #00c897;">Fecha de Término: </strong><%= @goal.finish_date %></p>
    </div>

    <!-- Gráfico de Progreso -->
    <div class="goal-chart" style="flex: 1; padding: 20px; background: white; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
      <h4 style="color: #00c897;">Progreso</h4>
      <canvas id="goalProgressChart" width="200" height="200"></canvas>
    </div>
  </div>

  <!-- Transacciones -->
  <div class="goal-transactions" style="margin: 20px auto; max-width: 600px; padding: 20px; background: white; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px;">
    <h3 style="color: #00c897;">Transacciones Relacionadas</h3>
    <ul style="list-style: none; padding: 0;">
      <% sum = 0 %>
      <% @goal.my_transactions.each do |transaction| %>
        <li style="margin: 10px 0; padding: 10px; border-bottom: 1px solid #eee;">
          <p><strong>Cantidad: </strong><%= transaction.amount %></p>
          <p><strong>Fecha: </strong><%= transaction.date %></p>
          <p><strong>Banco: </strong><%= transaction.account.bank %></p>
          <% sum += transaction.amount %>
        </li>
      <% end %>
    </ul>
    <p><strong style="color: #00c897;">Total Ahorrado: </strong><%= sum %></p>
    <p><strong style="color: #00c897;">Restante: </strong><%= @goal.amount ? (@goal.amount - sum) : "Monto no definido" %></p>
  </div>

  <div class="goal-actions" style="text-align: center; margin-top: 20px;">
    <%= link_to "Registra una transacción", accounts_path, class: "btn btn-primary", style: "background-color: #00c897; border: none; padding: 10px 20px; color: white; border-radius: 5px; text-decoration: none;" %>
    <%= link_to "Eliminar Meta", goal_path(@goal), method: :delete, data: { turbo_method: :delete }, class: "btn btn-danger", style: "margin-left: 10px; background-color: #ff6b6b; border: none; pad" %>
